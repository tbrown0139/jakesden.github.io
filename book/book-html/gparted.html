<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" /><title>Gparted-0.27.0</title><link rel="stylesheet" href="stylesheets/lfs.css" type="text/css" /><meta name="generator" content="DocBook XSL Stylesheets V1.73.2" /><link rel="stylesheet" href="../stylesheets/lfs-print.css" type="text/css" media="print" /></head><body class="blfs" id="blfs-2017-01-20"><div class="navheader"><h4>Beyond Linux<sup>®</sup> From Scratch - Version 2017-01-20</h4><h3>Chapter 1. Installing packages in dependency build order</h3><ul><li class="prev"><a accesskey="p" href="rarian.html" title="Rarian-0.8.1">Prev</a><p>Rarian-0.8.1</p></li><li class="next"><a accesskey="n" href="libcanberra.html" title="libcanberra-0.30">Next</a><p>libcanberra-0.30</p></li><li class="up"><a accesskey="u" href="ch01.html" title="Chapter 1. Installing packages in dependency build order">Up</a></li><li class="home"><a accesskey="h" href="index.html" title="Beyond Linux® From Scratch - Version 2017-01-20">Home</a></li></ul></div><div class="sect1" lang="en" xml:lang="en"><h1 class="sect1"><a id="gparted" name="gparted"></a>Gparted-0.27.0</h1><div class="package" lang="en" xml:lang="en"><h2 class="sect2">Introduction to Gparted</h2><p>
      Gparted is the Gnome Partition Editor, a Gtk 2 GUI for other command line
      tools that can create, reorganise or delete disk partitions.
    </p><p>This package is known to build and work
                              properly using an LFS-7.10 platform.</p><h3>Package Information</h3><div class="itemizedlist"><ul class="compact"><li><p>
          Download (HTTP): <a class="ulink" href="http://downloads.sourceforge.net/gparted/gparted-0.27.0.tar.gz">http://downloads.sourceforge.net/gparted/gparted-0.27.0.tar.gz</a>
        </p></li><li></li><li><p>
          Download MD5 sum: 726f539f774b442670028af656f270bd
        </p></li><li><p>
          Download size: 3.2 MB
        </p></li><li><p>
          Estimated disk space required: 66 MB
        </p></li><li><p>
          Estimated build time: 1.1 SBU
        </p></li></ul></div><h3>Gparted Dependencies</h3><h4>Required</h4><p class="required">
      <a class="xref" href="gtkmm2.html" title="Gtkmm-2.24.5">Gtkmm-2.24.5</a> and
      <a class="xref" href="parted.html" title="parted-3.2">parted-3.2</a>
    </p><h4>Optional</h4><p class="optional">
      <a class="ulink" href="http://ftp.gnome.org/pub/gnome/sources/gnome-doc-utils/">
      GNOME Doc Utils</a> and
      <a class="xref" href="rarian.html" title="Rarian-0.8.1">Rarian-0.8.1</a>
    </p><p class="usernotes">
      User Notes: <a class="ulink" href="http://wiki.linuxfromscratch.org/blfs/wiki/gparted">http://wiki.linuxfromscratch.org/blfs/wiki/gparted</a>
    </p></div><div class="installation" lang="en" xml:lang="en"><h2 class="sect2">Installation of Gparted</h2><p>
      Install <span class="application">Gparted</span> by running the following
      commands:
    </p><pre class="userinput"><kbd class="command">./configure --prefix=/usr    \
            --disable-doc    \
            --disable-static &amp;&amp;
make</kbd></pre><p>
      This package does not come with a testsuite.
    </p><p>
      Now, as the <code class="systemitem">root</code> user:
    </p><pre class="root"><kbd class="command">make install</kbd></pre></div><div class="commands" lang="en" xml:lang="en"><h2 class="sect2">Command Explanations</h2><p>
      <em class="parameter"><code>--disable-static</code></em>: This switch prevents
      installation of static versions of the libraries.
    </p><p>
      <em class="parameter"><code>--disable-doc</code></em>: This switch disables building of
      the optional documentation. Remove it if you have installed
      <span class="application">GNOME Doc Utils</span>.
    </p></div><div class="using" lang="en" xml:lang="en"><h2 class="sect2">Using Gparted</h2><p>
      To manipulate file systems Gparted has a run time dependency on various
      file system tools (you only need to install the tools for file systems you
      actually use):
      hdparm (in full book)
              
      (required for optionally displaying serial number device information),
      e2fsprogs (installed as part of LFS),
      jfsutils (in full book)
              ,
      ntfs-3g (in full book)
              ,
      reiserfs (in full book)
              ,
      xfsprogs (in full book)
              ,
      <a class="ulink" href="https://btrfs.wiki.kernel.org/index.php/Btrfs_source_repositories">
        btrfs-progs</a>,
      <a class="ulink" href="https://github.com/dosfstools/dosfstools/">dosfstools</a>,
      <a class="ulink" href="http://ftp.gnu.org/pub/gnu/mtools/">mtools</a> (required
      to read and write FAT16/32 volume labels and UUIDs),
      <a class="ulink" href="ftp://ftp.mars.org/pub/hfs/">hfsutils</a>,
      <a class="ulink" href="https://packages.debian.org/sid/hfsprogs/">hfsprogs</a>,
      <a class="ulink" href="http://www.nilfs.org/download/">nilfs-utils</a> and
      <a class="ulink" href="https://reiser4.wiki.kernel.org/index.php/Reiser4progs">
      Reiser4progs</a>.
    </p><p>
      Root privileges are required to run Gparted. If you wish to run the
      application from the menu, further applications and configurations are
      necessary. Examples of applications that may be used:
      <a class="ulink" href="http://people.debian.org/~kov/gksu">gksu</a>,
      <a class="ulink" href="https://launchpad.net/kdesudo">kdesudo</a>, or
      <a class="ulink" href="https://github.com/tarakbumba/xdg-su">xdg-su</a>.
      Another solution is to use <span class="application">pkexec</span>, from
      <a class="xref" href="polkit.html" title="Polkit-0.113">Polkit-0.113</a>, but some configuration is necessary.
      Another simple solution is ssh-askpass (in full book)
              . Below, we
      describe these two alternatives: "ssh-askpass" and "pkexec".
    </p><div class="sect3" lang="en" xml:lang="en"><h3 class="sect3">ssh-askpass</h3><p>
          To optionally use ssh-askpass (in full book)
               if it is installed in
          your system, run the following commands as the
          <code class="systemitem">root</code> user:
        </p><pre class="root"><kbd class="command">cp -v /usr/share/applications/gparted.desktop /usr/share/applications/gparted.desktop.back &amp;&amp;
sed -i 's/Exec=/Exec=sudo -A /'               /usr/share/applications/gparted.desktop</kbd></pre><p>
         Now, clicking on the menu item for Gparted, a dialog appears on the
         screen, asking for the administrator password.</p></div><div class="sect3" lang="en" xml:lang="en"><h3 class="sect3">pkexec</h3><p>
          To optionally use <span class="application">pkexec</span>, you need polkit-gnome (in full book)
              , and
          <a class="xref" href="consolekit.html" title="ConsoleKit2-1.0.2">ConsoleKit2-1.0.2</a> installed with support to <a class="xref" href="linux-pam.html" title="Linux-PAM-1.3.0">Linux-PAM-1.3.0</a> and <a class="xref" href="polkit.html" title="Polkit-0.113">Polkit-0.113</a>. As the
          <code class="systemitem">root</code> user, configure <a class="xref" href="gparted.html" title="Gparted-0.27.0">Gparted-0.27.0</a> and <a class="xref" href="polkit.html" title="Polkit-0.113">Polkit-0.113</a> with the following
          commands:
        </p><pre class="root"><kbd class="command">cp -v /usr/share/applications/gparted.desktop \
                                     /usr/share/applications/gparted.desktop.back &amp;&amp;
sed -i 's:/usr/sbin/gparted:/usr/sbin/gparted_polkit:' \
                                     /usr/share/applications/gparted.desktop      &amp;&amp;

cat &gt; /usr/sbin/gparted_polkit &lt;&lt; "EOF" &amp;&amp;
<code class="literal">#!/bin/bash

pkexec /usr/sbin/gparted $@</code>
EOF
chmod -v 0755 /usr/sbin/gparted_polkit</kbd></pre><p>
          Still as the <code class="systemitem">root</code> user,
          configure <a class="xref" href="polkit.html" title="Polkit-0.113">Polkit-0.113</a> and <a class="xref" href="gparted.html" title="Gparted-0.27.0">Gparted-0.27.0</a> to
          use <span class="application">pkexec</span>:
        </p><pre class="root"><kbd class="command">cat &gt; /usr/share/polkit-1/actions/org.gnome.gparted.policy &lt;&lt; "EOF"
<code class="literal">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE policyconfig PUBLIC
 "-//freedesktop//DTD PolicyKit Policy Configuration 1.0//EN"
 "http://www.freedesktop.org/standards/PolicyKit/1/policyconfig.dtd"&gt;
&lt;policyconfig&gt;

  &lt;action id="org.freedesktop.policykit.pkexec.run-gparted"&gt;
    &lt;description&gt;Run GParted&lt;/description&gt;
    &lt;message&gt;Authentication is required to run GParted&lt;/message&gt;
    &lt;defaults&gt;
      &lt;allow_any&gt;no&lt;/allow_any&gt;
      &lt;allow_inactive&gt;no&lt;/allow_inactive&gt;
      &lt;allow_active&gt;auth_admin_keep&lt;/allow_active&gt;
    &lt;/defaults&gt;
    &lt;annotate key="org.freedesktop.policykit.exec.path"&gt;/usr/sbin/gparted&lt;/annotate&gt;
    &lt;annotate key="org.freedesktop.policykit.exec.allow_gui"&gt;true&lt;/annotate&gt;
  &lt;/action&gt;

&lt;/policyconfig&gt;</code>
EOF
chmod -v 0644 /usr/share/polkit-1/actions/org.gnome.gparted.policy</kbd></pre><p>
         Now, clicking in the menu item for Gparted, a dialog appears in the
         screen, asking for the administrator password.</p></div></div><div class="content" lang="en" xml:lang="en"><h2 class="sect2">Contents</h2><div class="segmentedlist"><div class="seglistitem"><div class="seg"><strong class="segtitle">Installed Programs: </strong><span class="segbody">
          gparted, gpartedbin and gparted_polkit (optional)
        </span></div><div class="seg"><strong class="segtitle">Installed Libraries: </strong><span class="segbody">
          None
        </span></div><div class="seg"><strong class="segtitle">Installed Directories: </strong><span class="segbody">
          None
        </span></div></div></div><div class="variablelist"><h3>Short Descriptions</h3><table border="0"><col align="left" valign="top" /><tbody><tr><td><p><a id="gparted-prog"></a><span class="term"><span class="command"><strong>gparted</strong></span></span></p></td><td><p>
            is a shell script which sets up the environment before calling
            <span class="command"><strong>gpartedbin</strong></span>.
          </p></td></tr><tr><td><p><a id="gpartedbin"></a><span class="term"><span class="command"><strong>gpartedbin</strong></span></span></p></td><td><p>
            is the Gparted binary.
          </p></td></tr><tr><td><p><a id="gparted_polkit"></a><span class="term"><span class="command"><strong>gparted_polkit</strong></span></span></p></td><td><p>
            is an optional script which can be used to run gparted with polkit,
            from a menu.
          </p></td></tr></tbody></table></div></div><p class="updated">Last updated 
      on
       2016-11-26 02:45:47 +0000</p></div><div class="navfooter"><ul><li class="prev"><a accesskey="p" href="rarian.html" title="Rarian-0.8.1">Prev</a><p>Rarian-0.8.1</p></li><li class="next"><a accesskey="n" href="libcanberra.html" title="libcanberra-0.30">Next</a><p>libcanberra-0.30</p></li><li class="up"><a accesskey="u" href="ch01.html" title="Chapter 1. Installing packages in dependency build order">Up</a></li><li class="home"><a accesskey="h" href="index.html" title="Beyond Linux® From Scratch - Version 2017-01-20">Home</a></li></ul></div></body></html>