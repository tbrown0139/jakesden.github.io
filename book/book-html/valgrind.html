<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" /><title>Valgrind-3.12.0</title><link rel="stylesheet" href="stylesheets/lfs.css" type="text/css" /><meta name="generator" content="DocBook XSL Stylesheets V1.73.2" /><link rel="stylesheet" href="../stylesheets/lfs-print.css" type="text/css" media="print" /></head><body class="blfs" id="blfs-2017-01-20"><div class="navheader"><h4>Beyond Linux<sup>®</sup> From Scratch - Version 2017-01-20</h4><h3>Chapter 1. Installing packages in dependency build order</h3><ul><li class="prev"><a accesskey="p" href="pygobject2.html" title="PyGObject-2.28.6">Prev</a><p>PyGObject-2.28.6</p></li><li class="next"><a accesskey="n" href="cacerts.html" title="Certificate Authority Certificates">Next</a><p>Certificate Authority Certificates</p></li><li class="up"><a accesskey="u" href="ch01.html" title="Chapter 1. Installing packages in dependency build order">Up</a></li><li class="home"><a accesskey="h" href="index.html" title="Beyond Linux® From Scratch - Version 2017-01-20">Home</a></li></ul></div><div class="sect1" lang="en" xml:lang="en"><h1 class="sect1"><a id="valgrind" name="valgrind"></a>Valgrind-3.12.0</h1><div class="package" lang="en" xml:lang="en"><h2 class="sect2">Introduction to Valgrind</h2><p>
      <span class="application">Valgrind</span> is an instrumentation framework for
      building dynamic analysis tools. There are Valgrind tools that can
      automatically detect many memory management and threading bugs, and
      profile programs in detail. Valgrind can also be used to build new
      tools.
    </p><p>This package is known to build and work
                              properly using an LFS-7.10 platform.</p><h3>Package Information</h3><div class="itemizedlist"><ul class="compact"><li><p>
          Download (HTTP): <a class="ulink" href="http://valgrind.org/downloads/valgrind-3.12.0.tar.bz2">http://valgrind.org/downloads/valgrind-3.12.0.tar.bz2</a>
        </p></li><li></li><li><p>
          Download MD5 sum: 6eb03c0c10ea917013a7622e483d61bb
        </p></li><li><p>
          Download size: 12 MB
        </p></li><li><p>
          Estimated disk space required: 344 MB (additional 228 MB for tests)
        </p></li><li><p>
          Estimated build time: 1.2 SBU (additional 5.1 SBU for tests)
        </p></li></ul></div><h3>Valgrind Dependencies</h3><h4>Optional</h4><p class="optional">
      boost (in full book)
              ,
      <a class="xref" href="llvm.html" title="LLVM-3.9.1">LLVM-3.9.1</a> (with Clang),
      gdb (in full book)
               (for tests), 
      <a class="xref" href="which.html" title="Which-2.21 and Alternatives">Which-2.21</a> (for tests), 
      bind (in full book)
               or bind-utils (in full book)
               (for tests), 
      and
      <a class="ulink" href="http://www.openmp.org">OpenMP</a>
    </p><h4>Optional for regenerating the documentation</h4><p class="optional">
      <a class="xref" href="libxslt.html" title="libxslt-1.1.29">libxslt-1.1.29</a> and
      texlive (in full book)
               (or tl-installer (in full book)
              )
    </p><p class="usernotes">User Notes:
      <a class="ulink" href="http://wiki.linuxfromscratch.org/blfs/wiki/valgrind">http://wiki.linuxfromscratch.org/blfs/wiki/valgrind</a>
    </p></div><div class="installation" lang="en" xml:lang="en"><h2 class="sect2">Installation of Valgrind</h2><p>
      Install <span class="application">Valgrind</span> by running the following
      commands:
    </p><pre class="userinput"><kbd class="command">sed -i 's|/doc/valgrind||' docs/Makefile.in &amp;&amp;

./configure --prefix=/usr \
            --datadir=/usr/share/doc/valgrind-3.12.0 &amp;&amp;
make</kbd></pre><div class="admon note"><img alt="[Note]" src="images/note.png" /><h3>Note</h3><p>
       To run the tests for this package, valgrind requires a version of the
       /lib/ld-2.24.so (or later) library with debugging symbols present.
       Normally in LFS these debugging symbols are stripped at the end of
       Chapter 6. To get this library, glibc must be rebuilt with the current
       glibc version using the same compiler that was used to build LFS. The
       ld.so can then be renamed to ld-2.24.so.dbg and copied to /lib.
       Then a symlink needs to be changed:</p><pre class="userinput"><kbd class="command">ln -sfv ld-2.24.so.dbg /lib/ld-linux-x86-64.so.2</kbd></pre><p>
       Adjust the above instruction as needed for a 32-bit system or for a
       different version of glibc.
     </p><p>
       In addition, other glibc libraries with debugging symbols present
       may be needed for some tests.
     </p></div><p>
      To test the results, issue: <span class="command"><strong>make regtest</strong></span>. The tests
      may hang forever if gdb (in full book)
               is not installed.
    </p><p>
      Now, as the <code class="systemitem">root</code> user:
    </p><pre class="root"><kbd class="command">make install</kbd></pre></div><div class="commands" lang="en" xml:lang="en"><h2 class="sect2">Command Explanations</h2><p>
      <span class="command"><strong>sed -i ... docs/Makefile.in </strong></span>: This sed provides for
      installing the documentation in a versioned directory.
    </p></div><div class="content" lang="en" xml:lang="en"><h2 class="sect2">Contents</h2><div class="segmentedlist"><div class="seglistitem"><div class="seg"><strong class="segtitle">Installed Programs: </strong><span class="segbody">
          callgrind_annotate,
          callgrind_control,
          cg_annotate,
          cg_diff,
          cg_merge,
          ms_print,
          valgrind,
          valgrind-di-server,
          valgrind-listener, and
          vgdb
        </span></div><div class="seg"><strong class="segtitle">Installed Library: </strong><span class="segbody">
          libcoregrind-&lt;Arch&gt;-linux.a,
          libreplacemalloc_toolpreload-&lt;Arch&gt;-linux.a,
          libvex-&lt;Arch&gt;-linux.a,
          libvexmultiarch-amd64-linux.a,
          vgpreload_core-&lt;Arch&gt;-linux.so,
          vgpreload_drd-&lt;Arch&gt;-linux.so,
          vgpreload_exp-dhat-&lt;Arch&gt;-linux.so,
          vgpreload_exp-sgcheck-&lt;Arch&gt;-linux.so,
          vgpreload_helgrind-&lt;Arch&gt;-linux.so,
          vgpreload_massif-&lt;Arch&gt;-linux.so, and
          vgpreload_memcheck-&lt;Arch&gt;-linux.so, where
          &lt;Arch&gt; is x86 or amd64
        </span></div><div class="seg"><strong class="segtitle">Installed Directories: </strong><span class="segbody">
          /usr/lib/valgrind,
          /usr/include/valgrind, and
          /usr/share/doc/valgrind-3.12.0
        </span></div></div></div><div class="variablelist"><h3>Short Descriptions</h3><table border="0"><col align="left" valign="top" /><tbody><tr><td><p><a id="valgrind-prog"></a><span class="term"><span class="command"><strong>valgrind</strong></span></span></p></td><td><p>
            is a program for debugging and profiling Linux executables.
          </p></td></tr><tr><td><p><a id="callgrind_annotate"></a><span class="term"><span class="command"><strong>callgrind_annotate</strong></span></span></p></td><td><p>
            takes an output file produced by the
            <span class="application">Valgrind</span> tool Callgrind and prints the
            information in an easy-to-read form.
          </p></td></tr><tr><td><p><a id="callgrind_control"></a><span class="term"><span class="command"><strong>callgrind_control</strong></span></span></p></td><td><p>
            controls programs being run by the <span class="application">Valgrind</span>
            tool Callgrind.
          </p></td></tr><tr><td><p><a id="cg_annotate"></a><span class="term"><span class="command"><strong>cg_annotate</strong></span></span></p></td><td><p>
            is a post-processing tool for the <span class="application">Valgrind</span>
            tool Cachegrind.
          </p></td></tr><tr><td><p><a id="cg_diff"></a><span class="term"><span class="command"><strong>cg_diff</strong></span></span></p></td><td><p>
            compares two Cachegrind output files.
          </p></td></tr><tr><td><p><a id="cg_merge"></a><span class="term"><span class="command"><strong>cg_merge</strong></span></span></p></td><td><p>
            merges multiple Cachegrind output files into one.
          </p></td></tr><tr><td><p><a id="ms_print"></a><span class="term"><span class="command"><strong>ms_print</strong></span></span></p></td><td><p>
            takes an output file produced by the <span class="application">Valgrind</span>
            tool Massif and prints the information in an easy-to-read form.
          </p></td></tr><tr><td><p><a id="valgrind-di-server"></a><span class="term"><span class="command"><strong>valgrind-di-server</strong></span></span></p></td><td><p>
            is a server that reads debuginfo from objects stored on a
            different machine.
          </p></td></tr><tr><td><p><a id="valgrind-listener"></a><span class="term"><span class="command"><strong>valgrind-listener</strong></span></span></p></td><td><p>
            listens on a socket for Valgrind commentary.
          </p></td></tr><tr><td><p><a id="vgdb"></a><span class="term"><span class="command"><strong>vgdb</strong></span></span></p></td><td><p>
            is an intermediary between Valgrind and GDB or a shell.
          </p></td></tr></tbody></table></div></div><p class="updated">Last updated 
      on
       2016-11-06 18:41:55 +0000</p></div><div class="navfooter"><ul><li class="prev"><a accesskey="p" href="pygobject2.html" title="PyGObject-2.28.6">Prev</a><p>PyGObject-2.28.6</p></li><li class="next"><a accesskey="n" href="cacerts.html" title="Certificate Authority Certificates">Next</a><p>Certificate Authority Certificates</p></li><li class="up"><a accesskey="u" href="ch01.html" title="Chapter 1. Installing packages in dependency build order">Up</a></li><li class="home"><a accesskey="h" href="index.html" title="Beyond Linux® From Scratch - Version 2017-01-20">Home</a></li></ul></div></body></html>